{
  "id": "filters",
  "description": "This layer acts as library for common filters",
  "source": "special:library",
  "pointRendering": null,
  "lineRendering": null,
  "filter": [
    {
      "id": "open_now",
      "options": [
        {
          "question": {
            "en": "Open now",
            "nl": "Nu open",
            "de": "Jetzt geöffnet",
            "ca": "Obert ara",
            "es": "Abierto",
            "fr": "Ouvert maintenant",
            "hu": "Most nyitva van",
            "da": "Åbent nu",
            "zh_Hant": "目前開放",
            "id": "Saat ini buka",
            "it": "Aperto ora",
            "pl": "Otwarte teraz",
            "cs": "Nyní otevřeno"
          },
          "osmTags": "_isOpen=yes"
        }
      ]
    },
    {
      "id": "accepts_cash",
      "options": [
        {
          "osmTags": "payment:cash=yes",
          "question": {
            "en": "Accepts cash",
            "de": "Akzeptiert Barzahlung",
            "nl": "Accepteert cash",
            "es": "Acepta efectivo",
            "fr": "Accepte les espèces",
            "pl": "Przyjmuje gotówkę",
            "ca": "Accepta efectu",
            "cs": "Přijímá hotovost"
          }
        }
      ]
    },
    {
      "id": "accepts_cards",
      "options": [
        {
          "osmTags": "payment:cards=yes",
          "question": {
            "en": "Accepts payment cards",
            "de": "Akzeptiert Kartenzahlung",
            "nl": "Accepteert betaalkaarten",
            "es": "Acepta el pago por tarjeta",
            "fr": "Accepte les cartes de paiement",
            "pl": "Przyjmuje karty płatnicze",
            "ca": "Accepta el pagament amb targeta",
            "cs": "Přijímá platební karty"
          }
        }
      ]
    },
    {
      "id": "accepts_debit_cards",
      "options": [
        {
          "osmTags": "payment:debit_cards=yes",
          "question": {
            "en": "Accepts debit cards",
            "de": "Akzeptiert Debitkarten",
            "pl": "Przyjmuje karty debetowe",
            "ca": "Accepta targetes de dèbit",
            "cs": "Přijímá debetní karty"
          }
        }
      ]
    },
    {
      "id": "accepts_credit_cards",
      "options": [
        {
          "osmTags": "payment:credit_cards=yes",
          "question": {
            "en": "Accepts credit cards",
            "de": "Akzeptiert Kreditkarten",
            "pl": "Przyjmuje karty kredytowe",
            "ca": "Accepta targetes de crèdit",
            "cs": "Přijímá kreditní karty"
          }
        }
      ]
    },
    {
      "id": "has_image",
      "options": [
        {
          "question": {
            "en": "With and without images",
            "nl": "Met en zonder afbeelding",
            "de": "Mit und ohne Bild",
            "pl": "Z oraz bez zdjęć",
            "ca": "Amb i sense imatges",
            "cs": "S obrázky i bez nich"
          }
        },
        {
          "question": {
            "en": "Has at least one image",
            "de": "Hat mindestens ein Bild",
            "nl": "Heeft minstens één afbeelding",
            "pl": "Ma co najmniej jedno zdjęcie",
            "ca": "Té com a mínim una imatge",
            "cs": "Má alespoň jeden obrázek"
          },
          "osmTags": {
            "or": [
              "image~*",
              "image:0~*",
              "image:1~*",
              "image:2~*",
              "image:3~*",
              "mapillary~*"
            ]
          }
        },
        {
          "question": {
            "en": "Probably does not have an image",
            "de": "Hat wahrscheinlich kein Bild",
            "nl": "Heeft waarschijnlijk geen afbeelding",
            "pl": "Prawdopodobnie nie ma zdjęcia",
            "ca": "Probablement no té una imatge",
            "cs": "Pravděpodobně nemá obrázek"
          },
          "osmTags": {
            "and": [
              "image=",
              "image:0=",
              "image:1=",
              "image:2=",
              "image:3=",
              "mapillary="
            ]
          }
        }
      ]
    },
    {
      "id": "tactile_paving",
      "options": [
        {
          "question": {
            "en": "With tactile paving",
            "de": "Mit taktilem Pflaster",
            "fr": "Avec revêtement podotactile",
            "nl": "Met voelbare bestrating",
            "pl": "Z wypustkami dla niewidomych",
            "ca": "Amb superfícies podotàctils",
            "cs": "S hmatovou dlažbou"
          },
          "osmTags": "tactile_paving=yes"
        }
      ]
    },
    {
      "id": "tactile_paving_advanced",
      "#": "ignore-possible-duplicate",
      "options": [
        {
          "question": {
            "en": "With or without tactile paving",
            "de": "Mit oder ohne taktiles Pflaster",
            "fr": "Avec ou sans revêtement podotactile",
            "nl": "Met of zonder voelbare bestrating",
            "pl": "Z lub bez wypustek dla niewidomych",
            "ca": "Amb o sense superfícies podotàctils",
            "cs": "S nebo bez hmatové dlažby"
          }
        },
        {
          "question": {
            "en": "With tactile paving",
            "de": "Mit taktilem Pflaster",
            "fr": "Avec revêtement podotactile",
            "nl": "Met voelbare bestrating",
            "pl": "Z wypustkami dla niewidomych",
            "ca": "Amb paviments superfícies podotàctils",
            "cs": "S hmatovou dlažbou"
          },
          "osmTags": "tactile_paving=yes"
        },
        {
          "question": {
            "en": "Without tactile paving",
            "de": "Ohne taktiles Pflaster",
            "fr": "Sans revêtement podotactile",
            "nl": "Zonder voelbare bestrating",
            "pl": "Bez wypustek dla niewidomych",
            "ca": "Sense superfície podotàctil",
            "cs": "Bez hmatové dlažby"
          },
          "osmTags": "tactile_paving=no"
        },
        {
          "osmTags": "tactile_paving=",
          "question": {
            "en": "No information about tactile paving",
            "de": "Keine Informationen über taktiles Pflaster",
            "fr": "Sans information sur le revêtement podotactile",
            "nl": "Geen informatie over voelbare bestrating",
            "pl": "Brak informacji o wypustkach dla niewidomych",
            "ca": "No hi ha informació sobre superfícies podotàctils",
            "cs": "Žádné informace o hmatové dlažbě"
          }
        }
      ]
    },
    {
      "id": "has_organic",
      "options": [
        {
          "osmTags": {
            "or": [
              "organic=yes",
              "organic=only"
            ]
          },
          "question": {
            "en": "Has organic options",
            "de": "Bio-Produkte im Angebot",
            "nl": "Heeft biologische opties",
            "ca": "Té opcions orgàniques",
            "cs": "Má bio možnosti"
          }
        }
      ]
    },
    {
      "id": "free",
      "options": [
        {
          "question": {
            "en": "Free to use",
            "nl": "Gratis toegankelijk",
            "de": "Nutzung kostenlos",
            "fr": "Utilisation gratuite",
            "da": "Gratis at bruge",
            "ca": "Ús gratuït",
            "cs": "Použití zdarma"
          },
          "osmTags": {
            "or": [
              "fee=no",
              "fee=0",
              "charge=0"
            ]
          }
        }
      ]
    },
    {
      "id": "dogs",
      "options": [
        {
          "question": {
            "en": "No preference towards dogs",
            "de": "Keine Bevorzugung von Hunden",
            "cs": "Bez preference psů"
          }
        },
        {
          "question": {
            "en": "Dogs allowed",
            "de": "Hunde erlaubt",
            "cs": "Psi povoleny"
          },
          "osmTags": {
            "or": [
              "dog=unleashed",
              "dog=yes"
            ]
          }
        },
        {
          "question": {
            "en": "No dogs allowed",
            "de": "Keine Hunde erlaubt",
            "cs": "Psi nejsou povoleni"
          },
          "osmTags": "dog=no"
        }
      ]
    },
    {
      "id": "has_internet",
      "options": [
        {
          "question": {
            "en": "Offers internet",
            "de": "Internetzugang vorhanden",
            "cs": "Nabízí internet"
          },
          "osmTags": {
            "or": [
              "internet_access=wlan",
              "internet_access=yes",
              "internet_access=wired"
            ]
          }
        }
      ]
    },
    {
      "id": "has_electricity",
      "options": [
        {
          "question": {
            "en": "Offers electricity",
            "de": "Stromanschluss vorhanden",
            "cs": "Nabízí elektřinu"
          },
          "osmTags": "service:electricity=yes"
        }
      ]
    },
    {
      "id": "sugar_free",
      "options": [
        {
          "question": {
            "en": "Has a sugar-free offering",
            "cs": "Má nabídku bez cukru",
            "de": "Hat zuckerfreie Angebote"
          },
          "osmTags": {
            "or": [
              "diet:sugar_free=yes",
              "diet:sugar_free=only",
              "diet:sugar_free=limited"
            ]
          }
        }
      ]
    },
    {
      "id": "gluten_free",
      "options": [
        {
          "question": {
            "en": "Has a gluten free offering",
            "cs": "Má bezlepkovou nabídku",
            "de": "Hat glutenfreie Angebote"
          },
          "osmTags": {
            "or": [
              "diet:gluten_free=yes",
              "diet:gluten_free=only",
              "diet:gluten_free=limited"
            ]
          }
        }
      ]
    },
    {
      "id": "lactose_free",
      "options": [
        {
          "question": {
            "en": "Has a lactose free offering",
            "cs": "Má nabídku bez laktózy",
            "de": "Hat laktosefreie Angebote"
          },
          "osmTags": {
            "or": [
              "diet:lactose_free=yes",
              "diet:lactose_free=only",
              "diet:lactose_free=limited"
            ]
          }
        }
      ]
    }
  ],
  "titleIcons": [
    {
      "id": "wikipedialink",
      "labels": [
        "defaults",
        "in_favourite"
      ],
      "render": "<a href='https://wikipedia.org/wiki/{wikipedia}' target='_blank' rel='noopener'><img src='./assets/svg/wikipedia.svg' textmode='📖' alt='Wikipedia'/></a>",
      "condition": {
        "or": [
          "wikipedia~*",
          "wikidata~*"
        ]
      },
      "mappings": [
        {
          "#": "ignore-image-in-then",
          "if": "wikipedia=",
          "then": "<a class='h-8' href='https://www.wikidata.org/wiki/{wikidata}' target='_blank' rel='noopener'><img src='./assets/svg/wikidata.svg' alt='Wikidata'/></a>"
        }
      ]
    },
    {
      "id": "open_until",
      "labels": [
        "defaults",
        "in_favourite"
      ],
      "#": "Titleicon showing e.g. 'open until 17:00'",
      "icon": {
        "class": "w-20 mx-1 flex items-center"
      },
      "render": "{opening_hours_state()}",
      "condition": {
        "or": [
          "opening_hours~*",
          {
            "or": [
              {
                "and": [
                  "seasonal~.*winter.*",
                  "_now:date~....-(12|01|02)-.."
                ]
              },
              {
                "and": [
                  "seasonal~.*spring.*",
                  "_now:date~....-(03|04|05)-.."
                ]
              },
              {
                "and": [
                  "seasonal~.*summer.*",
                  "_now:date~....-(06|07|08)-.."
                ]
              },
              {
                "and": [
                  "seasonal~.*autumn.*",
                  "_now:date~....-(09|10|11)-.."
                ]
              }
            ]
          }
        ]
      }
    },
    {
      "id": "phonelink",
      "labels": [
        "defaults",
        "in_favourite"
      ],
      "render": {
        "de": "{link(<img textmode='📞' alt='phone' src='./assets/layers/questions/phone.svg'/>,tel:&LBRACEphone&RBRACE,,,Telefon)}",
        "en": "{link(<img textmode='📞' alt='phone' src='./assets/layers/questions/phone.svg'/>,tel:&LBRACEphone&RBRACE,,,phone)}",
        "nl": "{link(<img textmode='📞' alt='phone' src='./assets/layers/questions/phone.svg'/>,tel:&LBRACEphone&RBRACE,,,Telefoneer)}",
        "_context": "layers:icons.tagRenderings.phonelink.render"
      },
      "mappings": [
        {
          "#": "ignore-image-in-then",
          "if": "contact:phone~*",
          "then": {
            "de": "{link(<img textmode='📞' alt='phone' src='./assets/layers/questions/phone.svg'/>,tel:&LBRACEcontact:phone&RBRACE,,,Telefon)}",
            "en": "{link(<img textmode='📞' alt='phone' src='./assets/layers/questions/phone.svg'/>,tel:&LBRACEcontact:phone&RBRACE,,,phone)}",
            "nl": "{link(<img textmode='📞' alt='phone' src='./assets/layers/questions/phone.svg'/>,tel:&LBRACEcontact:phone&RBRACE,,,Telefoneer)}",
            "_context": "layers:icons.tagRenderings.phonelink.mappings.0.then"
          }
        }
      ],
      "condition": {
        "or": [
          "phone~*",
          "contact:phone~*"
        ]
      }
    },
    {
      "id": "emaillink",
      "labels": [
        "defaults",
        "in_favourite"
      ],
      "render": "<a href='mailto:{email}'><img textmode='✉️' alt='email' src='./assets/layers/questions/send_email.svg'/></a>",
      "mappings": [
        {
          "#": "ignore-image-in-then",
          "if": "contact:email~*",
          "then": "<a href='mailto:{contact:email}'><img textmode='✉️' alt='email' src='./assets/layers/questions/send_email.svg'/></a>"
        },
        {
          "#": "ignore-image-in-then",
          "if": "operator:email~*",
          "then": "<a href='mailto:{operator:email}'><img textmode='✉️' alt='email' src='./assets/layers/questions/send_email.svg'/></a>"
        }
      ],
      "condition": {
        "or": [
          "email~*",
          "contact:email~*",
          "operator:email~*"
        ]
      }
    },
    {
      "id": "websitelink",
      "labels": [
        "defaults",
        "in_favourite"
      ],
      "mappings": [
        {
          "#": "ignore-image-in-then",
          "if": "website~*",
          "then": "<a href='{website}' target='_blank' rel='noopener'><img textmode='🌐' alt='website' src='./assets/layers/icons/website.svg'/></a>"
        },
        {
          "#": "ignore-image-in-then",
          "if": "operator:website~*",
          "then": "<a href='{operator:website}' target='_blank' rel='noopener'><img textmode='🌐' alt='website' src='./assets/layers/icons/website.svg'/></a>"
        },
        {
          "#": "ignore-image-in-then",
          "if": "context:website~*",
          "then": "<a href='{contact:website}' target='_blank' rel='noopener'><img textmode='🌐' alt='website' src='./assets/layers/icons/website.svg'/></a>"
        }
      ]
    },
    {
      "id": "smokingicon",
      "labels": [
        "defaults",
        "in_favourite"
      ],
      "mappings": [
        {
          "#": "ignore-image-in-then",
          "if": "smoking=no",
          "then": "<img textmode='🚭️' alt='no smoking' src='./assets/layers/questions/no_smoking.svg'/>"
        },
        {
          "#": "ignore-image-in-then",
          "if": "smoking=yes",
          "then": "<img textmode='🚬️' alt='smoking allowed' src='./assets/layers/questions/smoking.svg'/>"
        }
      ]
    },
    {
      "id": "dogicon",
      "labels": [
        "defaults",
        "in_favourite"
      ],
      "mappings": [
        {
          "if": "dog=no",
          "#": "ignore-image-in-then",
          "then": "<img textmode='🐕 ⃠' alt='no_dogs' src='./assets/layers/questions/no_dogs.svg'>"
        },
        {
          "if": "dog=leashed",
          "#": "ignore-image-in-then",
          "then": "<img textmode='🐕' alt='dogs are allowed but leashed' src='./assets/layers/questions/dogs_leashed.svg'>"
        },
        {
          "if": {
            "or": [
              "dog=yes",
              "dog=unleashed"
            ]
          },
          "#": "ignore-image-in-then",
          "then": "<img textmode='🐕' alt='dogs are allowed' src='./assets/layers/questions/dogs_allowed.svg'>"
        }
      ]
    },
    {
      "id": "sharelink",
      "labels": [
        "defaults"
      ],
      "render": "{share_link()}",
      "metacondition": "_supports_sharing=yes"
    },
    {
      "id": "favourite_title_icon",
      "labels": [
        "defaults"
      ],
      "render": {
        "*": "{favourite_icon()}"
      },
      "metacondition": "_loggedIn=true"
    },
    {
      "id": "osmlink",
      "labels": [
        "defaults"
      ],
      "render": {
        "de": "{link(<img alt='on osm' textmode='🗺️' src='./assets/svg/osm-logo-us.svg'/>,https://openstreetmap.org/&LBRACEid&RBRACE,,,Auf openstreetmap.org öffnen)}",
        "en": "{link(<img alt='on osm' textmode='🗺️' src='./assets/svg/osm-logo-us.svg'/>,https://openstreetmap.org/&LBRACEid&RBRACE,,,Open on openstreetmap.org)}",
        "nl": "{link(<img alt='on osm' textmode='🗺️' src='./assets/svg/osm-logo-us.svg'/>,https://openstreetmap.org/&LBRACEid&RBRACE,,,Bekijk op openstreetmap.org)}",
        "_context": "layers:icons.tagRenderings.osmlink.render"
      },
      "mappings": [
        {
          "if": "id~.*/-.*",
          "then": ""
        },
        {
          "#": "ignore-image-in-then",
          "if": "_backend~*",
          "then": {
            "de": "{link(<img alt='on osm' textmode='🗺️' src='./assets/svg/osm-logo-us.svg'/>,&LBRACE_backend&RBRACE/&LBRACEid&RBRACE,,,Auf openstreetmap.org öffnen)}",
            "en": "{link(<img alt='on osm' textmode='🗺️' src='./assets/svg/osm-logo-us.svg'/>,&LBRACE_backend&RBRACE/&LBRACEid&RBRACE,,,Open on openstreetmap.org)}",
            "nl": "{link(<img alt='on osm' textmode='🗺️' src='./assets/svg/osm-logo-us.svg'/>,&LBRACE_backend&RBRACE/&LBRACEid&RBRACE,,,Bekijk op openstreetmap.org)}",
            "_context": "layers:icons.tagRenderings.osmlink.mappings.1.then"
          }
        }
      ],
      "condition": "id~(node|way|relation)/[0-9]*"
    },
    {
      "id": "direction",
      "labels": [
        "defaults",
        "in_favourite"
      ],
      "render": "{direction_indicator()}"
    },
    {
      "id": "rating",
      "icon": {
        "class": "w-20 mx-1 flex items-center"
      },
      "render": "{rating()}"
    }
  ],
  "_layerIcon": []
}