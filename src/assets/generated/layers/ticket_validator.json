{
  "id": "ticket_validator",
  "name": {
    "en": "Ticket Validators",
    "de": "Fahrkartenentwerter",
    "ca": "Validadors de bitllets",
    "cs": "Ověřovače jízdenek"
  },
  "description": {
    "en": "Find ticket validators to validate public transport tickets",
    "de": "Finden Sie Fahrkartenentwerter, um Tickets für den öffentlichen Nahverkehr zu entwerten",
    "ca": "Trobeu validadors de bitllets per validar bitllets de transport públic",
    "cs": "Najděte validátory jízdenek pro ověření jízdenek pro veřejnou dopravu"
  },
  "source": {
    "osmTags": {
      "and": [
        "amenity=ticket_validator"
      ]
    }
  },
  "minzoom": 18,
  "title": {
    "render": {
      "en": "Ticket Validator",
      "de": "Fahrkartenentwerter",
      "ca": "Validador de bitllets",
      "cs": "Validátor jízdenek"
    }
  },
  "pointRendering": [
    {
      "iconSize": "20,20",
      "location": [
        "point",
        "centroid"
      ],
      "anchor": "center",
      "marker": [
        {
          "icon": {
            "render": "square",
            "id": "square"
          },
          "color": "green"
        },
        {
          "icon": {
            "render": "./assets/themes/stations/public_transport_tickets.svg",
            "id": "assetsthemesstationspublictransportticketssvg"
          }
        }
      ],
      "iconBadges": [
        {
          "if": "_favourite=yes",
          "then": "circle:white;heart:red"
        }
      ]
    }
  ],
  "lineRendering": [],
  "presets": [
    {
      "tags": [
        "amenity=ticket_validator"
      ],
      "title": {
        "en": "a ticket validator",
        "de": "einen Fahrkartenentwerter",
        "ca": "un validador de bitllets",
        "cs": "validátor jízdenek"
      },
      "description": {
        "en": "A ticket validator to validate a public transport ticket. This can be either a digital reader, reading a card or ticket, or a machine stamping or punching a ticket.",
        "de": "Ein Fahrkartenentwerter zur Entwertung einer Fahrkarte für öffentliche Verkehrsmittel. Dabei kann es sich entweder um ein digitales Lesegerät handeln, das eine Karte oder einen Fahrschein liest, oder um eine Maschine, die einen Fahrschein stempelt oder locht.",
        "ca": "Un validador de bitllets per validar un bitllet de transport públic. Pot ser un lector digital, llegir una targeta o un bitllet, o una màquina que estampa o perfora un bitllet.",
        "cs": "Ověřovač jízdenek k ověření platnosti jízdenky na veřejnou dopravu. Může to být buď digitální čtečka, která čte kartu nebo jízdenku, nebo stroj, který jízdenku orazítkuje nebo vyrazí."
      }
    }
  ],
  "tagRenderings": [
    {
      "id": "just_created",
      "labels": [
        "added_by_default"
      ],
      "description": "This element shows a 'thank you' that the contributor has recently created this element",
      "classes": "rounded-xl thanks",
      "mappings": [
        {
          "if": "id~*",
          "icon": "./assets/svg/party.svg",
          "then": {
            "ca": "Acabeu de crear aquest element! Gràcies per compartir aquesta informació amb el mon i ajudar a persones al voltant del món.",
            "de": "Sie haben gerade dieses Element erstellt! Vielen Dank, dass Sie diese Informationen mit der Welt teilen und Menschen weltweit helfen.",
            "en": "You just created this element! Thanks for sharing this info with the world and helping people worldwide.",
            "fr": "Vous venez de créer cet élément ! Merci d'avoir partagé cette information avec le monde et d'aider les autres personnes.",
            "nl": "Je hebt dit punt net toegevoegd! Bedankt om deze info met iedereen te delen en om de mensen wereldwijd te helpen.",
            "cs": "Tento prvek jste právě vytvořili! Díky za sdílení těchto informací se světem a pomoc lidem po celém světě."
          }
        }
      ],
      "condition": {
        "and": [
          "_backend~*",
          "_last_edit:passed_time<300",
          {
            "or": [
              "_version_number=",
              "_version_number=1"
            ]
          }
        ]
      },
      "metacondition": {
        "and": [
          {
            "#": "if _last_edit:contributor:uid is unset, then the point hasn't been uploaded yet",
            "or": [
              "_last_edit:contributor:uid:={_uid}",
              "_last_edit:contributor:uid="
            ]
          }
        ]
      }
    },
    {
      "id": "images",
      "description": "This block shows the known images which are linked with the `image`-keys, but also via `mapillary` and `wikidata` and shows the button to upload new images",
      "render": {
        "*": "{image_carousel()}{image_upload()}{nearby_images():my-4}"
      },
      "classes": "my-4"
    },
    {
      "id": "repeated",
      "labels": [
        "level"
      ],
      "condition": "repeat_on~*",
      "render": {
        "en": "Multiple, identical objects can be found on floors {repeat_on}.",
        "nl": "Er zijn verschillende, identieke objecten op verdiepingen {repeat_on}.",
        "de": "Mehrere identische Objekte können in Geschossen {repeat_on} gefunden werden.",
        "cs": "V patrech {repeat_on} lze nalézt více identických objektů."
      }
    },
    {
      "id": "single_level",
      "labels": [
        "level"
      ],
      "condition": "repeat_on=",
      "question": {
        "nl": "Op welke verdieping bevindt dit punt zich?",
        "en": "On what level is this feature located?",
        "de": "Auf welcher Ebene befindet sich das Objekt?",
        "zh_Hant": "此圖徽位於哪個樓層／層級？",
        "fr": "À quel étage se situe l’élément ?",
        "pl": "Na jakim poziomie znajduje się ta funkcja?",
        "pt_BR": "Em que nível esse recurso está localizado?",
        "ru": "На каком этаже находится этот объект?",
        "pt": "Em que nível se encontra este elemento?",
        "id": "Pada tingkat apa fitur ini diletakkan?",
        "hu": "Melyik szinten található ez a létesítmény?",
        "it": "A quale piano si trova questo elemento?",
        "ca": "A quina planta està situat aquest element?",
        "sv": "På vilken nivå finns den här funktionen?",
        "ja": "この機能は何階にあるのでしょうか？",
        "fil": "Anong palapag matatagpuan ang tampók?",
        "es": "¿En qué nivel se encuentra esta característica?",
        "nb_NO": "Hvilken etasje befinner funksjonen seg i?",
        "da": "På hvilket niveau er denne funktion placeret?",
        "cs": "V jaké úrovni se tento prvek nachází?"
      },
      "render": {
        "en": "Located on the {level}th floor",
        "nl": "Bevindt zich op de {level}de verdieping",
        "de": "Das Objekt befindet sich im {level}. Geschoss",
        "pt_BR": "Localizado no {level}o andar",
        "ru": "Расположено на {level}ом этаже",
        "zh_Hant": "位於 {level} 樓",
        "fr": "Étage {level}",
        "pl": "Znajduje się na {level} piętrze",
        "sv": "Ligger på {level}:e våningen",
        "pt": "Está no {level}º andar",
        "eo": "En la {level}a etaĝo",
        "hu": "A(z) {level}. emeleten",
        "it": "Si trova al piano numero {level}",
        "ca": "Situat a la planta {level}",
        "ja": "{level}階にあります",
        "sl": "Nahaja se v {level}. nadstropju",
        "fil": "Natagpuan sa ika-{level} na palapag",
        "es": "Localizada en la {level}° planta",
        "da": "Beliggende på {level}. etage",
        "nb_NO": "Ligger i {level} etasje",
        "id": "Terletak di lantai {level}",
        "cs": "Nachází se v {level}. patře"
      },
      "freeform": {
        "key": "level",
        "type": "float",
        "inline": true
      },
      "mappings": [
        {
          "if": "location=underground",
          "then": {
            "en": "Located underground",
            "nl": "Bevindt zich ondergronds",
            "pt_BR": "Localizado no subsolo",
            "ru": "Расположено под землей",
            "zh_Hant": "位於地下",
            "fr": "En sous-sol",
            "pl": "Znajduje się pod ziemią",
            "sv": "Ligger under jorden",
            "pt": "Está no subsolo",
            "de": "Das Objekt befindet sich unter der Erde",
            "hu": "A föld alatt",
            "it": "Si trova sotto il livello stradale",
            "nb_NO": "Under bakken",
            "ca": "Situat a planta subterrani",
            "ja": "地下にあります",
            "id": "Terletak di bawah tanah",
            "sl": "Nahaja se pod zemljo",
            "fil": "Nasa ilalim ng lupa",
            "es": "Localizado bajo tierra",
            "da": "Placeret under jorden",
            "cs": "Nachází se v podzemí"
          },
          "hideInAnswer": true
        },
        {
          "if": "level=0",
          "then": {
            "en": "Located on the ground floor",
            "nl": "Bevindt zich op de begane grond",
            "de": "Das Objekt befindet sich im Erdgeschoss",
            "pt_BR": "Localizado no térreo",
            "ru": "Расположено на первом этаже",
            "zh_Hant": "位於 1 樓",
            "fr": "Rez-de-chaussée",
            "pl": "Znajduje się na parterze",
            "sv": "Ligger på bottenvåningen",
            "pt": "Está ao nível do rés-do-chão",
            "eo": "En la teretaĝo",
            "hu": "A földszinten",
            "it": "Si trova al pianoterra",
            "nb_NO": "På gateplan",
            "ca": "Situat a planta zero",
            "ja": "1階にあります",
            "id": "Terletak di lantai dasar",
            "sl": "Nahaja se v pritličju",
            "fil": "Nasa unang palapag",
            "es": "Localizado en la planta baja",
            "da": "Beliggende i stueetagen",
            "cs": "Nachází se v přízemí"
          }
        },
        {
          "if": "level=",
          "hideInAnswer": true,
          "then": {
            "en": "Located on the ground floor",
            "nl": "Bevindt zich gelijkvloers",
            "de": "Das Objekt befindet sich im Erdgeschoss",
            "pt_BR": "Localizado no térreo",
            "ru": "Расположено на первом этаже",
            "zh_Hant": "位於 1 樓",
            "fr": "Rez-de-chaussée",
            "pl": "Znajduje się na parterze",
            "sv": "Ligger på bottenvåningen",
            "pt": "Está ao nível do rés-do-chão",
            "eo": "En la teretaĝo",
            "hu": "A földszinten",
            "it": "Si trova al pianoterra",
            "nb_NO": "På gateplan",
            "ca": "Situat a la planta zero",
            "ja": "1階にあります",
            "id": "Terletak di lantai dasar",
            "sl": "Nahaja se v pritličju",
            "fil": "Nasa unang palapag",
            "es": "Localizado en la planta baja",
            "da": "Beliggende i stueetagen",
            "cs": "Nachází se v přízemí"
          }
        },
        {
          "if": "level=1",
          "then": {
            "en": "Located on the first floor",
            "nl": "Bevindt zich op de eerste verdieping",
            "de": "Das Objekt befindet sich im 1. Obergeschoss",
            "pt_BR": "Localizado no primeiro andar",
            "ru": "Расположено на первом этаже",
            "zh_Hant": "位於 2 樓",
            "fr": "Premier étage",
            "pl": "Znajduje się na pierwszym piętrze",
            "sv": "Ligger på första våningen",
            "pt": "Está no primeiro andar",
            "id": "Berlokasi di lantai pertama",
            "eo": "En la unua etaĝo",
            "hu": "Az első emeleten",
            "it": "Si trova al primo piano",
            "nb_NO": "I andre etasje",
            "ca": "Situat a primera planta",
            "ja": "1階にあります",
            "sl": "Nahaja se v prvem nadstropju",
            "fil": "Nasa unang palapag",
            "es": "Localizado en la primera planta",
            "da": "Beliggende på første sal",
            "cs": "Nachází se v prvním patře"
          }
        },
        {
          "if": "level=-1",
          "then": {
            "en": "Located on the first basement level",
            "nl": "Bevindt zich in de eerste kelderverdieping",
            "zh_Hant": "位於地下一樓",
            "de": "Das Objekt befindet sich im 1. Untergeschoss",
            "hu": "Az első alagsori szinten",
            "id": "Terletak di lantai basement pertama",
            "fr": "Sous-sol",
            "sl": "Nahaja se v prvi kletni etaži",
            "ca": "Localitzat a la planta base",
            "fil": "Nasa silong",
            "es": "Localizada en el primer sótano",
            "nb_NO": "Er å finne på første kjellernivå",
            "pt": "Localizado no primeiro nível da cave",
            "da": "Beliggende på første kælderetage",
            "cs": "Nachází se v prvním suterénu",
            "pl": "Położone na pierwszym poziomie piwnicy"
          }
        }
      ]
    },
    {
      "id": "barrier",
      "condition": "barrier~*",
      "render": {
        "en": "This ticket validator is part of a barrier of type {barrier}",
        "de": "Dieser Fahrkartenentwerter ist Teil einer Zugangsbarriere vom Typ {barrier}",
        "ca": "Aquest validador de bitllets forma part d'una barrera de tipus {barrier}",
        "cs": "Tento validátor vstupenek je součástí bariéry typu {barrier}"
      },
      "mappings": [
        {
          "if": "barrier=gate",
          "then": {
            "en": "This ticket validator is part of a gate",
            "de": "Dieser Fahrscheinentwerter ist Teil einer Zugangsbarriere",
            "ca": "Aquest validador de bitllets forma part d'una porta",
            "cs": "Tento validátor jízdenek je součástí brány"
          }
        }
      ]
    },
    {
      "id": "validator-operator",
      "question": {
        "en": "Who is the operator of this ticket validator?",
        "de": "Wer ist der Betreiber dieses Fahrkartenentwerters?",
        "ca": "Qui és l'operador d'aquest validador de bitllets?",
        "cs": "Kdo je provozovatelem tohoto validátoru jízdenek?"
      },
      "render": {
        "en": "This ticket validator is operated by {operator}",
        "de": "Dieser Fahrkartenentwerter wird betrieben von {operator}",
        "ca": "{operator} opera aquest validador de bitllets",
        "cs": "Tento validátor jízdenek provozuje {operator}"
      },
      "freeform": {
        "key": "operator",
        "type": "string",
        "placeholder": {
          "en": "Name of the operator",
          "de": "Name des Betreibers",
          "nl": "Naam van de beheerder",
          "ca": "Nom de l'operador",
          "cs": "Jméno operátora"
        },
        "inline": true
      },
      "mappings": [
        {
          "if": "operator=Nederlandse Spoorwegen",
          "then": {
            "en": "Dutch Railways (NS)",
            "nl": "Nederlandse Spoorwegen (NS)",
            "de": "Niederländische Eisenbahn (NS)",
            "ca": "Ferrocarrils holandesos (NS)",
            "cs": "Nizozemské dráhy (NS)"
          },
          "addExtraTags": [
            "operator:wikidata=Q23076"
          ],
          "hideInAnswer": "_country!=nl"
        }
      ]
    },
    {
      "id": "payment-options",
      "question": {
        "en": "Which methods of payment are accepted here?",
        "nl": "Welke betaalmiddelen worden hier geaccepteerd?",
        "pt": "Que métodos de pagamento são aceites aqui?",
        "pt_BR": "Quais métodos de pagamento são aceitos aqui?",
        "id": "Metode pembayaran manakah yang di terima disini?",
        "de": "Welche Zahlungsmethoden werden hier akzeptiert?",
        "fr": "Quelles sont les méthodes de paiement acceptées ici ?",
        "hu": "Milyen fizetési módokat fogadnak el itt?",
        "it": "Quali metodi di pagamento sono accettati qui?",
        "nb_NO": "Hvilke betalingsmetoder godtas her?",
        "ca": "Quins mètodes de pagament s'accepten aquí?",
        "sv": "Vilka betalningsmetoder accepteras här?",
        "zh_Hant": "這邊接受那種付款方式？",
        "pl": "Jakie metody płatności są tutaj dostępne?",
        "ru": "Какие способы оплаты здесь принимают?",
        "ja": "どのような支払い方法が可能ですか？",
        "sl": "Kateri načini plačila so možni tu?",
        "fil": "Anong mga paraang pambayad ang tinatanggap dito?",
        "es": "¿Qué métodos de pago se aceptan aquí?",
        "zh_Hans": "这里支持哪些支付方式？",
        "da": "Hvilke betalingsmetoder accepteres her?",
        "cs": "Jaké platební metody jsou zde přijímány?"
      },
      "multiAnswer": true,
      "mappings": [
        {
          "if": "payment:cash=yes",
          "ifnot": "payment:cash=no",
          "icon": "./assets/layers/questions/cash.svg",
          "then": {
            "en": "Cash is accepted here",
            "nl": "Cash geld wordt hier aanvaard",
            "pt": "Aceitam pagamento com dinheiro aqui",
            "pt_BR": "Dinheiro é aceito aqui",
            "id": "Pembayaran tunai diterima di sini",
            "de": "Hier wird Bargeld akzeptiert",
            "fr": "Paiement en liquide accepté",
            "hu": "Itt készpénzzel is lehet fizetni",
            "it": "I contanti sono accettati",
            "nb_NO": "Kontanter godtas her",
            "ca": "S'accepten diners",
            "sv": "Pengar accepteras här",
            "zh_Hant": "這邊接受現金",
            "pl": "Płatność gotówkowa jest tutaj dostępna",
            "ru": "Здесь принимают наличными",
            "ja": "現金利用可能",
            "sl": "Tu sprejemajo gotovino",
            "fil": "Tinatanggap ang salapi rito",
            "es": "Aquí se acepta el pago en efectivo",
            "zh_Hans": "可用现金",
            "da": "Her modtages kontanter",
            "cs": "Přijímá se zde hotovost"
          }
        },
        {
          "if": "payment:cards=yes",
          "ifnot": "payment:cards=no",
          "icon": "./assets/layers/questions/payment_card.svg",
          "then": {
            "en": "Payment cards are accepted here",
            "nl": "Betalen met bankkaarten kan hier",
            "pt": "Aceitam pagamento com cartões bancários aqui",
            "pt_BR": "Cartões de pagamento são aceitos aqui",
            "id": "Kartu pembayaran diterima di sini",
            "de": "Hier wird Kartenzahlung akzeptiert",
            "fr": "Paiement par carte accepté",
            "hu": "Itt fizetőkártyákkal is lehet fizetni",
            "it": "I pagamenti con la carta sono accettati",
            "nb_NO": "Betalingskort godtas her",
            "ca": "S'accepten targetes de crèdit",
            "sv": "Betalningskort accepteras här",
            "zh_Hant": "這邊接受現金卡",
            "pl": "Płatność kartą jest tutaj dostępna",
            "ru": "Здесь принимают банковские карты",
            "ja": "お支払いはこちらで承ります",
            "sl": "Tukaj sprejemajo plačilne kartice",
            "fil": "Tinatanggap ang mga tarhetang pambayad dito",
            "es": "Aquí se acepta el pago por tarjeta",
            "zh_Hans": "可用信用卡",
            "da": "Betalingskort accepteres her",
            "cs": "Jsou zde přijímány platební karty"
          }
        },
        {
          "if": "payment:qr_code=yes",
          "ifnot": "payment:qr_code=no",
          "icon": "./assets/layers/questions/qrcode.svg",
          "then": {
            "en": "Payment by QR-code is possible here",
            "nl": "Betalen via een QR-code is hier mogelijk",
            "de": "Die Bezahlung per QR-Code ist hier möglich",
            "es": "Aquí se puede pagar con código QR",
            "ca": "Aquí es pot pagar amb codi QR",
            "cs": "Platba QR kódem je zde možná"
          }
        },
        {
          "if": "payment:OV-Chipkaart=yes",
          "ifnot": "payment:OV-Chipkaart=no",
          "then": {
            "en": "This ticket validator accepts OV-Chipkaart",
            "de": "Dieser Fahrkartenentwerter akzeptiert die OV-Chipkaart",
            "ca": "Aquest validador de bitllets accepta OV-Chipkaart",
            "cs": "Tento ověřovač jízdenek přijímá OV-Chipkaart"
          },
          "hideInAnswer": true
        },
        {
          "if": "payment:ov-chipkaart=yes",
          "ifnot": "payment:ov-chipkaart=no",
          "then": {
            "en": "This ticket validator accepts OV-Chipkaart",
            "de": "Dieser Ticketentwerter akzeptiert die OV-Chipkaart",
            "ca": "Aquest validador de bitllets accepta OV-Chipkaart",
            "cs": "Tento ověřovač jízdenek přijímá OV-Chipkaart"
          },
          "hideInAnswer": "_country!=nl"
        }
      ]
    },
    {
      "id": "leftover-questions",
      "render": {
        "*": "{questions( ,)}"
      }
    },
    {
      "id": "lod",
      "labels": [
        "added_by_default"
      ],
      "render": {
        "*": "{linked_data_from_website()}"
      }
    },
    {
      "id": "minimap",
      "description": "Shows a small map with the feature. Added by default to every popup",
      "render": {
        "*": "{minimap(18, id): width:100%; height:8rem; border-radius:2rem; overflow: hidden; pointer-events: none;}"
      }
    },
    {
      "id": "move-button",
      "render": {
        "*": "{move_button()}"
      }
    },
    {
      "id": "delete-button",
      "render": {
        "*": "{delete_button()}"
      }
    },
    {
      "id": "last_edit",
      "labels": [
        "added_by_default"
      ],
      "description": "Gives some metainfo about the last edit and who did edit it - rendering only",
      "condition": {
        "and": [
          "_last_edit:contributor~*",
          "_last_edit:changeset~*"
        ]
      },
      "metacondition": {
        "or": [
          "__featureSwitchIsTesting=true",
          "__featureSwitchIsDebugging=true",
          "mapcomplete-show_debug=yes",
          "_csCount>=10"
        ]
      },
      "render": {
        "ca": "{link(Darrera edició el &LBRACE_last_edit:timestamp&RBRACE per &LBRACE_last_edit:contributor&RBRACE,&LBRACE_backend&RBRACE/changeset/&LBRACE_last_edit:changeset&RBRACE,subtle font-small,,)}",
        "cs": "{link(Naposledy upravil &LBRACE_last_edit:timestamp&RBRACE &LBRACE_last_edit:contributor&RBRACE,&LBRACE_backend&RBRACE/changeset/&LBRACE_last_edit:changeset&RBRACE,subtle font-small,,)}",
        "de": "{link(Zuletzt bearbeitet am &LBRACE_last_edit:timestamp&RBRACE von &LBRACE_last_edit:contributor&RBRACE,&LBRACE_backend&RBRACE/changeset/&LBRACE_last_edit:changeset&RBRACE,subtle font-small,,)}",
        "en": "{link(Last edited on &LBRACE_last_edit:timestamp&RBRACE by &LBRACE_last_edit:contributor&RBRACE,&LBRACE_backend&RBRACE/changeset/&LBRACE_last_edit:changeset&RBRACE,subtle font-small,,)}",
        "nl": "{link(Laatst gewijzigd op &LBRACE_last_edit:timestamp&RBRACE door &LBRACE_last_edit:contributor&RBRACE ,&LBRACE_backend&RBRACE/changeset/&LBRACE_last_edit:changeset&RBRACE,subtle font-small,,)}"
      }
    },
    {
      "id": "favourite_status",
      "render": {
        "*": "{favourite_status()}"
      }
    },
    {
      "id": "qr_code",
      "labels": [
        "added_by_default"
      ],
      "classes": "flex items-center gap-x-2",
      "render": {
        "de": "{qr_code()}Scannen Sie den Code, um diesen Ort auf einem anderen Gerät zu öffnen",
        "en": "{qr_code()}Scan this code to open this location on another device",
        "nl": "{qr_code()}Scan deze code om deze locatie op een ander apparaat te zien",
        "sl": "{qr_code()}Skenirajte to kodo, da odprete ta kraj na drugi napravi"
      }
    },
    {
      "id": "share",
      "labels": [
        "added_by_default"
      ],
      "metacondition": "_supports_sharing=yes",
      "render": {
        "de": "{share_link(,Standort teilen)}",
        "en": "{share_link(,Share this location)}",
        "nl": "{share_link(,Deel deze locatie)}"
      }
    },
    {
      "id": "all-tags",
      "render": {
        "*": "{all_tags()}"
      },
      "metacondition": {
        "or": [
          "__featureSwitchIsDebugging=true",
          "mapcomplete-show_tags=full",
          "mapcomplete-show_debug=yes"
        ]
      }
    }
  ],
  "deletion": {},
  "allowMove": true,
  "titleIcons": [
    {
      "id": "wikipedialink",
      "labels": [
        "defaults",
        "in_favourite"
      ],
      "render": "<a href='https://wikipedia.org/wiki/{wikipedia}' target='_blank' rel='noopener'><img src='./assets/svg/wikipedia.svg' textmode='📖' alt='Wikipedia'/></a>",
      "condition": {
        "or": [
          "wikipedia~*",
          "wikidata~*"
        ]
      },
      "mappings": [
        {
          "#": "ignore-image-in-then",
          "if": "wikipedia=",
          "then": "<a class='h-8' href='https://www.wikidata.org/wiki/{wikidata}' target='_blank' rel='noopener'><img src='./assets/svg/wikidata.svg' alt='Wikidata'/></a>"
        }
      ]
    },
    {
      "id": "open_until",
      "labels": [
        "defaults",
        "in_favourite"
      ],
      "#": "Titleicon showing e.g. 'open until 17:00'",
      "icon": {
        "class": "w-20 mx-1 flex items-center"
      },
      "render": "{opening_hours_state()}",
      "condition": {
        "or": [
          "opening_hours~*",
          {
            "or": [
              {
                "and": [
                  "seasonal~.*winter.*",
                  "_now:date~....-(12|01|02)-.."
                ]
              },
              {
                "and": [
                  "seasonal~.*spring.*",
                  "_now:date~....-(03|04|05)-.."
                ]
              },
              {
                "and": [
                  "seasonal~.*summer.*",
                  "_now:date~....-(06|07|08)-.."
                ]
              },
              {
                "and": [
                  "seasonal~.*autumn.*",
                  "_now:date~....-(09|10|11)-.."
                ]
              }
            ]
          }
        ]
      }
    },
    {
      "id": "phonelink",
      "labels": [
        "defaults",
        "in_favourite"
      ],
      "render": {
        "de": "{link(<img textmode='📞' alt='phone' src='./assets/layers/questions/phone.svg'/>,tel:&LBRACEphone&RBRACE,,,Telefon)}",
        "en": "{link(<img textmode='📞' alt='phone' src='./assets/layers/questions/phone.svg'/>,tel:&LBRACEphone&RBRACE,,,phone)}",
        "nl": "{link(<img textmode='📞' alt='phone' src='./assets/layers/questions/phone.svg'/>,tel:&LBRACEphone&RBRACE,,,Telefoneer)}",
        "_context": "layers:icons.tagRenderings.phonelink.render"
      },
      "mappings": [
        {
          "#": "ignore-image-in-then",
          "if": "contact:phone~*",
          "then": {
            "de": "{link(<img textmode='📞' alt='phone' src='./assets/layers/questions/phone.svg'/>,tel:&LBRACEcontact:phone&RBRACE,,,Telefon)}",
            "en": "{link(<img textmode='📞' alt='phone' src='./assets/layers/questions/phone.svg'/>,tel:&LBRACEcontact:phone&RBRACE,,,phone)}",
            "nl": "{link(<img textmode='📞' alt='phone' src='./assets/layers/questions/phone.svg'/>,tel:&LBRACEcontact:phone&RBRACE,,,Telefoneer)}",
            "_context": "layers:icons.tagRenderings.phonelink.mappings.0.then"
          }
        }
      ],
      "condition": {
        "or": [
          "phone~*",
          "contact:phone~*"
        ]
      }
    },
    {
      "id": "emaillink",
      "labels": [
        "defaults",
        "in_favourite"
      ],
      "render": "<a href='mailto:{email}'><img textmode='✉️' alt='email' src='./assets/layers/questions/send_email.svg'/></a>",
      "mappings": [
        {
          "#": "ignore-image-in-then",
          "if": "contact:email~*",
          "then": "<a href='mailto:{contact:email}'><img textmode='✉️' alt='email' src='./assets/layers/questions/send_email.svg'/></a>"
        },
        {
          "#": "ignore-image-in-then",
          "if": "operator:email~*",
          "then": "<a href='mailto:{operator:email}'><img textmode='✉️' alt='email' src='./assets/layers/questions/send_email.svg'/></a>"
        }
      ],
      "condition": {
        "or": [
          "email~*",
          "contact:email~*",
          "operator:email~*"
        ]
      }
    },
    {
      "id": "websitelink",
      "labels": [
        "defaults",
        "in_favourite"
      ],
      "mappings": [
        {
          "#": "ignore-image-in-then",
          "if": "website~*",
          "then": "<a href='{website}' target='_blank' rel='noopener'><img textmode='🌐' alt='website' src='./assets/layers/icons/website.svg'/></a>"
        },
        {
          "#": "ignore-image-in-then",
          "if": "operator:website~*",
          "then": "<a href='{operator:website}' target='_blank' rel='noopener'><img textmode='🌐' alt='website' src='./assets/layers/icons/website.svg'/></a>"
        },
        {
          "#": "ignore-image-in-then",
          "if": "context:website~*",
          "then": "<a href='{contact:website}' target='_blank' rel='noopener'><img textmode='🌐' alt='website' src='./assets/layers/icons/website.svg'/></a>"
        }
      ]
    },
    {
      "id": "smokingicon",
      "labels": [
        "defaults",
        "in_favourite"
      ],
      "mappings": [
        {
          "#": "ignore-image-in-then",
          "if": "smoking=no",
          "then": "<img textmode='🚭️' alt='no smoking' src='./assets/layers/questions/no_smoking.svg'/>"
        },
        {
          "#": "ignore-image-in-then",
          "if": "smoking=yes",
          "then": "<img textmode='🚬️' alt='smoking allowed' src='./assets/layers/questions/smoking.svg'/>"
        }
      ]
    },
    {
      "id": "dogicon",
      "labels": [
        "defaults",
        "in_favourite"
      ],
      "mappings": [
        {
          "if": "dog=no",
          "#": "ignore-image-in-then",
          "then": "<img textmode='🐕 ⃠' alt='no_dogs' src='./assets/layers/questions/no_dogs.svg'>"
        },
        {
          "if": "dog=leashed",
          "#": "ignore-image-in-then",
          "then": "<img textmode='🐕' alt='dogs are allowed but leashed' src='./assets/layers/questions/dogs_leashed.svg'>"
        },
        {
          "if": {
            "or": [
              "dog=yes",
              "dog=unleashed"
            ]
          },
          "#": "ignore-image-in-then",
          "then": "<img textmode='🐕' alt='dogs are allowed' src='./assets/layers/questions/dogs_allowed.svg'>"
        }
      ]
    },
    {
      "id": "sharelink",
      "labels": [
        "defaults"
      ],
      "render": "{share_link()}",
      "metacondition": "_supports_sharing=yes"
    },
    {
      "id": "favourite_title_icon",
      "labels": [
        "defaults"
      ],
      "render": {
        "*": "{favourite_icon()}"
      },
      "metacondition": "_loggedIn=true"
    },
    {
      "id": "osmlink",
      "labels": [
        "defaults"
      ],
      "render": {
        "de": "{link(<img alt='on osm' textmode='🗺️' src='./assets/svg/osm-logo-us.svg'/>,https://openstreetmap.org/&LBRACEid&RBRACE,,,Auf openstreetmap.org öffnen)}",
        "en": "{link(<img alt='on osm' textmode='🗺️' src='./assets/svg/osm-logo-us.svg'/>,https://openstreetmap.org/&LBRACEid&RBRACE,,,Open on openstreetmap.org)}",
        "nl": "{link(<img alt='on osm' textmode='🗺️' src='./assets/svg/osm-logo-us.svg'/>,https://openstreetmap.org/&LBRACEid&RBRACE,,,Bekijk op openstreetmap.org)}",
        "_context": "layers:icons.tagRenderings.osmlink.render"
      },
      "mappings": [
        {
          "if": "id~.*/-.*",
          "then": ""
        },
        {
          "#": "ignore-image-in-then",
          "if": "_backend~*",
          "then": {
            "de": "{link(<img alt='on osm' textmode='🗺️' src='./assets/svg/osm-logo-us.svg'/>,&LBRACE_backend&RBRACE/&LBRACEid&RBRACE,,,Auf openstreetmap.org öffnen)}",
            "en": "{link(<img alt='on osm' textmode='🗺️' src='./assets/svg/osm-logo-us.svg'/>,&LBRACE_backend&RBRACE/&LBRACEid&RBRACE,,,Open on openstreetmap.org)}",
            "nl": "{link(<img alt='on osm' textmode='🗺️' src='./assets/svg/osm-logo-us.svg'/>,&LBRACE_backend&RBRACE/&LBRACEid&RBRACE,,,Bekijk op openstreetmap.org)}",
            "_context": "layers:icons.tagRenderings.osmlink.mappings.1.then"
          }
        }
      ],
      "condition": "id~(node|way|relation)/[0-9]*"
    },
    {
      "id": "direction",
      "labels": [
        "defaults",
        "in_favourite"
      ],
      "render": "{direction_indicator()}"
    },
    {
      "id": "rating",
      "icon": {
        "class": "w-20 mx-1 flex items-center"
      },
      "render": "{rating()}"
    }
  ],
  "_layerIcon": [
    {
      "icon": "square",
      "color": "green"
    },
    {
      "icon": "./assets/themes/stations/public_transport_tickets.svg"
    }
  ]
}